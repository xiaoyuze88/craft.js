<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.56">
<link rel="search" type="application/opensearchdescription+xml" title="craft.js" href="/r/opensearch.xml"><title data-react-helmet="true">Craft.js - Build any page editor with React | craft.js</title><meta data-react-helmet="true" name="docsearch:version" content="0.1.0-beta.6"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Craft.js - Build any page editor with React | craft.js"><meta data-react-helmet="true" name="description" content="You know a web application is fancy when it has a page editor. Without a doubt, a page editor helps boost user experience significantly. If you&#x27;re a frontend developer and have been tasked to be build one before, then you know precisely the difficulties and challenges of building one."><meta data-react-helmet="true" property="og:description" content="You know a web application is fancy when it has a page editor. Without a doubt, a page editor helps boost user experience significantly. If you&#x27;re a frontend developer and have been tasked to be build one before, then you know precisely the difficulties and challenges of building one."><meta data-react-helmet="true" property="og:url" content="https://craft.js.org//r/docs/0.1.0-beta.6/dev"><link data-react-helmet="true" rel="shortcut icon" href="/r/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://craft.js.org//r/docs/0.1.0-beta.6/dev"><link rel="stylesheet" href="/r/styles.8bc72806.css">
<link rel="preload" href="/r/styles.c54d3c6d.js" as="script">
<link rel="preload" href="/r/runtime~main.e8057263.js" as="script">
<link rel="preload" href="/r/main.59c71b5a.js" as="script">
<link rel="preload" href="/r/1.fae911f3.js" as="script">
<link rel="preload" href="/r/2.ad68de99.js" as="script">
<link rel="preload" href="/r/1be78505.347d65a4.js" as="script">
<link rel="preload" href="/r/77.b218f314.js" as="script">
<link rel="preload" href="/r/39c21874.d1f41ea9.js" as="script">
<link rel="preload" href="/r/d486a7a6.ffec363b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><div class="logo-container"><a class="navbar__brand" href="/r/"><strong class="navbar__title">craft.js</strong></a><a class="version-header-label" href="/r/versions">0.1.0-beta.8</a></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/r/docs/overview">Documentation</a><a class="navbar__item navbar__link" href="/r/support">Support</a><a href="https://github.com/prevwong/craft.js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/r/"><strong class="navbar__title">craft.js</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/r/docs/overview">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/r/support">Support</a></li><li class="menu__list-item"><a href="https://github.com/prevwong/craft.js" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row"><div class="col docItemCol_2AGf"><div class="docItemContainer_1tAC"><article><header><h1 class="docTitle_cWlf">Craft.js - Build any page editor with React</h1></header><div class="markdown"><p>You know a web application is fancy when it has a page editor. Without a doubt, a page editor helps boost user experience significantly. If you&#x27;re a frontend developer and have been tasked to be build one before, then you know precisely the difficulties and challenges of building one.</p><p>Existing libraries such as Grape.js or react-page are great for a working out-of-the-box page editor solution. However, as soon as you need to customise the look and feel of the page editor itself, you will find yourself hacking in the library&#x27;s code.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="introducing-craftjs"></a>Introducing Craft.js<a aria-hidden="true" tabindex="-1" class="hash-link" href="#introducing-craftjs" title="Direct link to heading">#</a></h2><p>Craft.js is a React framework to build any type of page editor. Instead of providing a working page editor implementation with a user interface, Craft.js provides an abstraction for you to implement your own page editor upon. It comes backed-in with an extensible drag-n-drop system which handles the way React elements should be rendered/updated, and a cohesive API to interact with the editor which you can additionally implement your own features on top of.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="tldr"></a>TL;DR<a aria-hidden="true" tabindex="-1" class="hash-link" href="#tldr" title="Direct link to heading">#</a></h3><ul><li>Design your own user interface for your page editor</li><li>Write React components that end-user could edit</li><li>Govern drag-and-drop conditions for your components</li><li>Control how your components should be edited. From simple text fields to content editables and drag to resize; if you can do it in React, then you can do it with Craft.js.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="editable-react-components"></a>Editable React Components<a aria-hidden="true" tabindex="-1" class="hash-link" href="#editable-react-components" title="Direct link to heading">#</a></h2><p>Let&#x27;s start with a simple Card component like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-jsx codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(250, 208, 0)">Card</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token parameter">title</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">id</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">p-only</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">&quot;</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">p</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain">Hi</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">p</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span></div></div></div></div></div><p>First, to integrate it with with Craft.js&#x27; drag-and-drop system, we just need to do the following modifications:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-jsx codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">useNode</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;@craftjs/core&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(250, 208, 0)">Card</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token parameter">title</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> connectors</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> connect</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> drag </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">useNode</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">ref</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript parameter" style="color:rgb(255, 157, 0)">dom</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">connect</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">drag</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">dom</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">id</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">p-only</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">&quot;</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">p</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain">Hi</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">p</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span></div></div></div></div></div><p>What&#x27;s happening here? </p><ul><li>We passed the <code>connect</code> connector to the root element of our component; this tells Craft.js that this element represents the <code>Card</code> component. Hence, the dimensions of the specified element will be taken into consideration during drag and drop events.</li><li>Then, we also passed <code>drag</code> connector to the same root element; this adds the drag handlers to the DOM. If the component is rendered as the child of a <code>&lt;Canvas /&gt;</code>, the user will be able to drag this element and it will move the entire Text component.</li></ul><p>Next, we might want to be able to control the drag-n-drop rules of our Card component. For example, let&#x27;s say we only want our Card component to be draggable as long as its <code>title</code> prop is not &quot;No Drag&quot;. We can achieve this easily as such:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-jsx codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(250, 208, 0)">Card</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token operator" style="color:rgb(255, 157, 0)">...</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Card</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">craft </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  rules</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(250, 208, 0)">canDrag</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token parameter">node</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">props</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">title </span><span class="token operator" style="color:rgb(255, 157, 0)">!=</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;No Drag&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="droppable-regions"></a>Droppable regions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#droppable-regions" title="Direct link to heading">#</a></h4><p>Next, let&#x27;s take a look at the <code>#p-only</code> element we specified in our Card component. What if we want this area to be droppable where only <code>p</code> can be dropped? </p><p>This is where the<code>&lt;Canvas /&gt;</code> component provided by Craft.js becomes useful. It defines a droppable region where each of its immediate child is draggable.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-jsx codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">useNode</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> Canvas</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;@craftjs/core&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(250, 208, 0)">Card</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token parameter">title</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> connectors</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> connect</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> drag </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">useNode</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">ref</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript parameter" style="color:rgb(255, 157, 0)">dom</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">connect</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">drag</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">dom</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Canvas</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">id</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">p-only</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">&quot;</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">p</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain">Hi</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">p</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Canvas</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span></div></div></div></div></div><p>Your next question might be about how we control our newly created droppable region. The <code>&lt;Canvas /&gt;</code> component accepts an <code>is</code> prop which can be either a HTML element or a React component (by default, it&#x27;s a <code>div</code>). So, if we supply a React component, we can essentially achieve the same design flexibility as we have with our Card component:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-jsx codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">useNode</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> Canvas</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;@craftjs/core&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(250, 208, 0)">Container</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token parameter">children</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> connectors</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">useNode</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">ref</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript parameter" style="color:rgb(255, 157, 0)">dom</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">connect</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">dom</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">children</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">Container</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">craft </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  rules</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(250, 208, 0)">canMoveIn</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token parameter">incomingNode</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> incomingNode</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">type </span><span class="token operator" style="color:rgb(255, 157, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;p&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(250, 208, 0)">Card</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token parameter">title</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> connectors</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> connect</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> drag </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">useNode</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">ref</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript parameter" style="color:rgb(255, 157, 0)">dom</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">connect</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">drag</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">dom</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Canvas</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">id</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">p-only</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">&quot;</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">is</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">Container</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">p</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain">Hi</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">p</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Canvas</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span></div></div></div></div></div><p>Let&#x27;s break this down a bit. Our <code>&lt;Container /&gt;</code> component is being rendered as a droppable region. This means, all dropped elements will be rendered in the component&#x27;s <code>children</code> prop. Next, we also specified the <code>connectors</code> just as we did previously. This time, we specified a <code>canMoveIn</code> rule where only elements with the <code>p</code> tag will be accepted into the component.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="control-editing-behaviours"></a>Control editing behaviours<a aria-hidden="true" tabindex="-1" class="hash-link" href="#control-editing-behaviours" title="Direct link to heading">#</a></h2><p>Of course, any page editor must allow the end-user to edit the elements that are rendered. With Craft.js, you are in control of this as well. </p><p>Let&#x27;s make our <code>h2</code> element content editable so our users could visually edit the <code>title</code> prop:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-jsx codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(250, 208, 0)">Card</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token parameter">title</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> connectors</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> connect</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> drag </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> setProp </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">useNode</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">ref</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript parameter" style="color:rgb(255, 157, 0)">dom</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">connect</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">drag</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">dom</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">contentEditable</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">onKeyUp</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript parameter" style="color:rgb(255, 157, 0)">e</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">setProp</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">e</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">target</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">innerText</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token operator" style="color:rgb(255, 157, 0)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span></div></div></div></div></div><blockquote><p>In a real application, you may want to consider using react-contenteditable</p></blockquote><p>Obviously, we do not want the element to be content editable all the time; perhaps only when our Card component is actually clicked:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-jsx codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(250, 208, 0)">Card</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token parameter">title</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> connectors</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> connect</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> drag </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> setProp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> isSelected </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">useNode</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token parameter">node</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    isSelected</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">events</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">selected</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">ref</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript parameter" style="color:rgb(255, 157, 0)">dom</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">connect</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">drag</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">dom</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">contentEditable</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">isSelected</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">onKeyUp</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript parameter" style="color:rgb(255, 157, 0)">e</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">setProp</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">e</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">target</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">innerText</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">title</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token operator" style="color:rgb(255, 157, 0)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span></div></div></div></div></div><p>What we are doing is essentially accessing Craft&#x27;s internal state and retrieving information about the current instance of our Card component. In this case, we are retrieving the <code>selected</code> event state which returns <code>true</code> when the user clicks on the DOM specified by the <code>connect</code> connector of the Component.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="your-page-editor-your-user-interface"></a>Your page editor, your user interface<a aria-hidden="true" tabindex="-1" class="hash-link" href="#your-page-editor-your-user-interface" title="Direct link to heading">#</a></h2><p>Essentially, Craft.js exposes these few React components:</p><ul><li><code>Editor</code> creates the Editor context and sets everything up</li><li><code>Frame</code> defines the editable area</li></ul><p>As you may have noticed, none of these are UI components. Instead, they are intended to be plugged into any user interface you would like to implement for your page editor.</p><p>Let&#x27;s take a look at a super simple interface that we could design:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-jsx codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// pages/index.js</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">import</span><span class="token plain"> React </span><span class="token keyword" style="color:rgb(255, 157, 0)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;react&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">default</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">App</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain">My page editor</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Editor</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">/* sets everything up */</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">          </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Frame</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">/* This part is now editable */</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Canvas</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">is</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">div</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">&quot;</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">background</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript string" style="color:rgb(165, 255, 144)">&quot;#eee&quot;</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">/* Creates a gray droppable div */</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">              </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain">Drag me around</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"> </span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">              </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">p</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token constant" style="color:rgb(250, 208, 0)">I</span><span class="token plain">&#x27;m draggable too</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">              </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Canvas</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">is</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">div</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">&quot;</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">/* a div that is both droppable and draggable */</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain">Hi</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">/* a draggable h2 */</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">              </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Canvas</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Canvas</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">          </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Frame</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Editor</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="interacting-with-the-editor"></a>Interacting with the editor<a aria-hidden="true" tabindex="-1" class="hash-link" href="#interacting-with-the-editor" title="Direct link to heading">#</a></h3><p>Your user interface will most likely need to display some information or perform certain editor-related actions.</p><p>Let&#x27;s say we want to design a Toolbar component that does the following things:</p><ul><li>Tells us the the type of the currently selected element</li><li>Has a button to save the current editor state</li><li>Has another button to load the last saved editor state</li></ul><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-jsx codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#9EFEFF;background-color:#2D2A55"><div class="token-line" style="color:#9EFEFF"><span class="token keyword" style="color:rgb(255, 157, 0)">import</span><span class="token plain"> React</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">useState</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&#x27;react&#x27;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">default</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">App</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain">My page editor</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Editor</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"> </span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Toolbar</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">/&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">/* Add this */</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">          </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Frame</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">            </span><span class="token operator" style="color:rgb(255, 157, 0)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">          </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Frame</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag class-name" style="color:rgb(250, 208, 0)">Editor</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(250, 208, 0)">Toolbar</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token plain">savedState</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> setSavedState</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">useState</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> selectedType</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> actions</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> query </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">useEditor</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token parameter">state</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">const</span><span class="token plain"> selectedId </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> state</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">events</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">selected</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      selectedType</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> selectedId </span><span class="token operator" style="color:rgb(255, 157, 0)">&amp;&amp;</span><span class="token plain"> state</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">nodes</span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token plain">selectedId</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token plain">type</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain">Currently selected</span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain">selectedType</span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">h2</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">a</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">        </span><span class="token tag script language-javascript keyword" style="color:rgb(255, 157, 0)">const</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> editorState </span><span class="token tag script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> query</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">serialize</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">        </span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">setSavedState</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">editorState</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">      </span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain">Save checkpoint</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">a</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       savedState </span><span class="token operator" style="color:rgb(255, 157, 0)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">         </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">a</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(255, 255, 255)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span><span class="token tag script language-javascript operator" style="color:rgb(255, 157, 0)">=&gt;</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"> </span></div><div class="token-line" style="color:#9EFEFF"><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">          actions</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token tag script language-javascript function" style="color:rgb(250, 208, 0)">deserialize</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">editorState</span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token tag script language-javascript" style="color:rgb(255, 157, 0)">         </span><span class="token tag script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain">Load </span><span class="token keyword" style="color:rgb(255, 157, 0)">from</span><span class="token plain"> checkpoint</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">a</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">       </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">null</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">div</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span></div></div></div></div></div><p>Let&#x27;s break this down:</p><ul><li>First, we access the editor&#x27;s state to retrieve the type of the currently selected element</li><li>Then, when the &quot;Save Checkpoint&quot; button is clicked, we use the <code>serialize</code> query which tells the editor to return its state in a serialised JSON form. We then save the JSON output in our component&#x27;s state</li><li>Once we have the JSON, we display the &quot;Load from checkpoint&quot; button. When this button is clicked, we simply call the <code>deserialize</code> editor action which essentially returns the editor to the state stored in the JSON output.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="closing-words"></a>Closing words<a aria-hidden="true" tabindex="-1" class="hash-link" href="#closing-words" title="Direct link to heading">#</a></h2><p>This has been a high-level overview of Craft.js and we&#x27;ve only covered some very basic examples. We&#x27;ve seen how we could easily control almost every aspect of the page editor experience. Hopefully, this article has given you an idea on the possibilities of what you can do with Craft.js.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_tVyB"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introducing-craftjs" class="table-of-contents__link">Introducing Craft.js</a><ul><li><a href="#tldr" class="table-of-contents__link">TL;DR</a></li></ul></li><li><a href="#editable-react-components" class="table-of-contents__link">Editable React Components</a></li><li><a href="#control-editing-behaviours" class="table-of-contents__link">Control editing behaviours</a></li><li><a href="#your-page-editor-your-user-interface" class="table-of-contents__link">Your page editor, your user interface</a><ul><li><a href="#interacting-with-the-editor" class="table-of-contents__link">Interacting with the editor</a></li></ul></li><li><a href="#closing-words" class="table-of-contents__link">Closing words</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/r/docs/overview">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/r/docs/concepts/nodes">Core Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/r/docs/guides/basic-tutorial">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/r/docs/api/editor-state">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/prevwong/craft.js" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github Repository</a></li><li class="footer__item"><a href="https://opencollective.com/craftjs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open Collective</a></li><li class="footer__item"><a href="https://discord.gg/sPpF7fX" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://npmjs.com/package/@craftjs/core" target="_blank" rel="noopener noreferrer" class="footer__link-item">NPM</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Find me elsewhere</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/prevwong" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://www.linkedin.com/in/prev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li><li class="footer__item"><a href="https://dribbble.com/prevwong" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dribbble</a></li><li class="footer__item"><a href="https://twitter.com/prevwong" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__end text--center"><div class="footer__madewith margin-bottom--md">Made with <img src="/r/img/heart-fill.png"> in Kuala Lumpur, Malaysia</div><div>Released under the MIT license</div><div>Copyright  2020 Prev Wong</div><div class="text--center margin-top--md"><a target="_blank" href="https://github.com/prevwong/craft.js"><img src="https://img.shields.io/github/stars/prevwong/craft.js?color=%23000&amp;logo=github&amp;style=social"></a></div></div></div></footer></div>
<script src="/r/styles.c54d3c6d.js"></script>
<script src="/r/runtime~main.e8057263.js"></script>
<script src="/r/main.59c71b5a.js"></script>
<script src="/r/1.fae911f3.js"></script>
<script src="/r/2.ad68de99.js"></script>
<script src="/r/1be78505.347d65a4.js"></script>
<script src="/r/77.b218f314.js"></script>
<script src="/r/39c21874.d1f41ea9.js"></script>
<script src="/r/d486a7a6.ffec363b.js"></script>
</body>
</html>